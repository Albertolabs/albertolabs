var Contact=(function(){var a=function(){};a.prototype={events:function(){$("button#contactform-submit").on("click",function(b){b.preventDefault();if(a.prototype.validate_form()){a.prototype.send_email()}})},validate_form:function(){var f=false;var b="";var d=new Array();var l=0;var j=0;$("div#form-contact-errors, div#form-contact-email-sent").addClass("hidden");var c=$("input#contactform-name");var h=$("input#contactform-email");var g=$("input#contactform-phone");var i=$("input#contactform-subject");var e=$("input#contactform-service");var k=$("textarea#contactform-message");if(!c.val().length){d.push("<b>Name</b>");j++}if(!h.val().length){d.push("<b>Email</b>");j++}else{if(!a.prototype.validate_email(h.val())){l++}}if(!i.val().length){d.push("<b>Subject</b>");j++}if(!k.val().length){d.push("<b>Message</b>");j++}if(j==0&&l==0){f=true}else{if(d.length||l){if(j){b+="<li>Error, the following fields are required: &nbsp;"+d.join(", ")+".</li>"}if(l){b+="<li>Error, enter a valid email address.</li>"}b="<ul>"+b+"</ul>";$("div#form-contact-errors").html(b).removeClass("hidden")}}return f},send_email:function(){var b={};b.name=$("input#contactform-name").val();b.email=$("input#contactform-email").val();b.phone=$("input#contactform-phone").val();b.subject=$("input#contactform-subject").val();b.message=$("textarea#contactform-message").val();$.post("./includes/send_email.php",b,function(c){if(c.STATUS=="OK"){$("div#form-contact-email-sent").removeClass("hidden")}else{$("div#form-contact-errors").html("An unexpected error has been occurred. Please, try it again.").removeClass("hidden")}},"json")},validate_email:function(b){var c=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return c.test(b)?true:false}};return a})();